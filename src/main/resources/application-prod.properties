# ??????? ??????????

# ??????
server.port=${SERVER_PORT:8080}
server.tomcat.max-threads=200
server.tomcat.accept-count=100
server.tomcat.max-connections=8192

# ???? ??????
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:cozetalk}
spring.datasource.username=${DB_USERNAME:cozetalk_user}
spring.datasource.password=${DB_PASSWORD:secure_password}
spring.jpa.show-sql=false
spring.jpa.hibernate.ddl-auto=validate

# ????????? ???? ??????????
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.connection-timeout=30000

# Telegram Bot
bot.username=${BOT_USERNAME}
bot.token=${BOT_TOKEN}
bot.webhook-path=${BOT_WEBHOOK_PATH:}

# Coze API
coze.api.base-url=${COZE_API_BASE_URL:https://api.coze.com}
coze.api.key=${COZE_API_KEY}

# ?Kassa
yukassa.api.base-url=${YUKASSA_API_BASE_URL:https://api.yookassa.ru}
yukassa.shop-id=${YUKASSA_SHOP_ID}
yukassa.secret-key=${YUKASSA_SECRET_KEY}
yukassa.return-url=${YUKASSA_RETURN_URL}
yukassa.webhook-url=${YUKASSA_WEBHOOK_URL}

# ???????????
logging.level.root=WARN
logging.level.com.chatassist.cozetalk=INFO
logging.level.org.springframework=WARN
logging.file.name=/var/log/cozetalk/application.log
logging.file.max-size=50MB
logging.file.max-history=30
logging.file.total-size-cap=1GB

# ????????? ??????????? (?????????? ??? Spring Boot 3.x)
spring.thymeleaf.cache=true
spring.web.resources.cache.cachecontrol.max-age=86400

# ??????????? ??????????????
admin.notification.enabled=true
admin.email=${ADMIN_EMAIL:admin@example.com}

# ????????? ????????????
server.ssl.enabled=${SSL_ENABLED:false}
server.ssl.key-store=${SSL_KEY_STORE:}
server.ssl.key-store-password=${SSL_KEY_STORE_PASSWORD:}
server.ssl.key-store-type=${SSL_KEY_STORE_TYPE:PKCS12}

# ????????? HTTP ???????
spring.webflux.client.max-connections=100
spring.webflux.client.connection-timeout=5000
spring.webflux.client.read-timeout=30000
spring.webflux.client.write-timeout=30000

# ?????? ???????????
rate-limit.requests-per-minute=60